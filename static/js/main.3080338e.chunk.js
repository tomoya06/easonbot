(this["webpackJsonpreact-sqljs-demo"]=this["webpackJsonpreact-sqljs-demo"]||[]).push([[0],{122:function(e,t,n){},128:function(e,t){},130:function(e,t){},141:function(e,t){},143:function(e,t){},170:function(e,t){},172:function(e,t){},173:function(e,t){},178:function(e,t){},180:function(e,t){},186:function(e,t){},188:function(e,t){},207:function(e,t){},219:function(e,t){},222:function(e,t){},225:function(e,t,n){},227:function(e,t,n){},228:function(e,t,n){"use strict";n.r(t);var c=n(3),r=n.n(c),a=n(113),i=n.n(a),s=n(114),u=n(7),o=n(58),l=n.n(o),j=(n(122),n(115)),b=n.n(j),d=(n(225),n(1));function f(e){var t=e.db,n=e.switchDebug,r=Object(c.useState)(null),a=Object(u.a)(r,2),i=a[0],s=a[1],o=Object(c.useState)([]),l=Object(u.a)(o,2),j=l[0],b=l[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{onClick:function(){return n()},children:"React SQL interpreter"}),Object(d.jsx)("textarea",{onChange:function(e){return function(e){try{b(t.exec(e)),s(null)}catch(n){s(n),b([])}}(e.target.value)},placeholder:"Enter some SQL. No inspiration ? Try \u201cselect sqlite_version()\u201d"}),Object(d.jsx)("pre",{className:"error",children:(i||"").toString()}),Object(d.jsx)("pre",{children:j.map((function(e,t){var n=e.columns,c=e.values;return Object(d.jsx)(m,{columns:n,values:c},t)}))})]})}function m(e){var t=e.columns,n=e.values;return Object(d.jsxs)("table",{className:"debugtable",children:[Object(d.jsx)("thead",{children:Object(d.jsx)("tr",{children:t.map((function(e,t){return Object(d.jsx)("td",{children:e},t)}))})}),Object(d.jsx)("tbody",{children:n.map((function(e,t){return Object(d.jsx)("tr",{children:e.map((function(e,t){return Object(d.jsx)("td",{children:e},t)}))},t)}))})]})}n(227);function h(e){var t=e.lyric,n=e.song_name,c=e.album_name,r=e.year,a="".concat(t," \u2014\u2014\u300a").concat(c,"\u300b").concat(n,", ").concat(r);navigator.clipboard.writeText(a),function(e){var t=document.createElement("div");t.className="toast";var n=document.createTextNode(e);t.appendChild(n),document.body.appendChild(t),setTimeout((function(){t.parentElement.removeChild(t)}),2e3)}("\u6b4c\u8bcd\u5df2\u590d\u5236\uff1a".concat(a))}function O(e){var t=e.item,n=t.lyric,c=t.song_name,r=t.album_name,a=t.year;return Object(d.jsxs)("section",{className:"lyricRow",onClick:function(){return h(t)},children:[Object(d.jsx)("div",{children:n}),Object(d.jsxs)("div",{children:["\u300a",r,"\u300b ",Object(d.jsx)("span",{children:c}),", ",a]})]})}var g="\u9648\u5955\u8fc5\u66fe\u7ecf\u5531\u8fc7...";function x(e){var t=e.db,n=e.switchDebug,r=Object(c.useState)(null),a=Object(u.a)(r,2),i=(a[0],a[1]),s=Object(c.useState)(!1),o=Object(u.a)(s,2),l=o[0],j=o[1],b=Object(c.useState)([]),f=Object(u.a)(b,2),m=f[0],h=f[1],x=Object(c.useState)(""),p=Object(u.a)(x,2),v=p[0],y=p[1];var w=Object(c.useMemo)((function(){return v?m.length>0?1:2:0}),[v,m]),S=Object(c.useMemo)((function(){switch(w){case 0:return"";case 1:return"\u9648\u5955\u8fc5\u66fe\u7ecf\u5531\u8fc7 ".concat(m.length," \u53e5\u300c").concat(v,"\u300d");case 2:return"\u9648\u5955\u8fc5\u4ece\u6765\u6ca1\u5531\u8fc7".concat(v,"...")}}),[w,v,m]),_=Object(c.useMemo)((function(){switch(w){case 0:return"./img/waiting.jpg";case 1:return"./img/cool.jpg";case 2:return"./img/nonono.jpg"}}),[w]),N=Object(c.useMemo)((function(){return!l&&1!==w}),[w,l]);return Object(c.useEffect)((function(){document.title=S||g}),[S]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("article",{className:"inputContainer "+(N?"centerContainer":""),children:[Object(d.jsx)("img",{src:_,className:"easonAvatar"}),Object(d.jsx)("input",{placeholder:g,onChange:function(e){return function(e){if(y(e),e)if("debugdebug"!==e){var c=function(e){return"\n  select lyrics.lyric, songs.song_name, albums.album_name, albums.year from lyrics \n  inner join songs on lyrics.song_id = songs.song_id \n  inner join albums on albums.album_id = songs.album_id\n  where lyrics.lyric like '%".concat(e,"%' group by lyrics.lyric, lyrics.song_id")}(e);try{var r=function(e){try{var t=e[0],n=t.columns;return t.values.map((function(e){var t={};return n.forEach((function(n,c){t[n]=e[c]})),t}))}catch(c){return[]}}(t.exec(c));h(r),i(null)}catch(a){i(a),h([])}}else n();else h([])}(e.target.value)},onFocus:function(){return j(!0)},onBlur:function(){return j(!1)}})]}),Object(d.jsx)("header",{children:S}),Object(d.jsx)("article",{children:m.map((function(e){return Object(d.jsx)(O,{item:e},JSON.stringify(e))}))}),Object(d.jsxs)("footer",{children:["\u6b4c\u8bcd\u6570\u636e\u6765\u6e90 ",Object(d.jsx)("a",{href:"https://mojim.com/",target:"_blank",children:"mojim.com"})," | \u7ed3\u679c\u4e4b\u51c6\u786e\u6027\u4e0d\u5f52\u672c\u7ad9\u7ba1",Object(d.jsx)("br",{}),Object(d.jsx)("a",{href:"https://github.com/tomoya06",children:"github@tomoya06"})," \xa9 2022"]})]})}var p=n(116);function v(){var e=Object(c.useState)(null),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),i=Object(u.a)(a,2),o=i[0],j=i[1],m=Object(c.useState)(null),h=Object(u.a)(m,2),O=h[0],g=h[1];function v(){j(!o)}return Object(c.useEffect)(Object(s.a)(l.a.mark((function e(){var t,n,c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([fetch("./database.db").then((function(e){return e.arrayBuffer()})),b()({locateFile:function(){return p.a}})]);case 3:t=e.sent,n=Object(u.a)(t,2),c=n[0],a=n[1],r(new a.Database(new Uint8Array(c))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),g(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),[]),O?Object(d.jsx)("pre",{children:O.toString()}):n?Object(d.jsx)("div",{className:"App",children:o?Object(d.jsx)(f,{db:n,switchDebug:v}):Object(d.jsx)(x,{db:n,switchDebug:v})}):Object(d.jsx)("pre",{children:"Loading..."})}var y=document.getElementById("root");i.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(v,{})}),y)}},[[228,1,2]]]);
//# sourceMappingURL=main.3080338e.chunk.js.map